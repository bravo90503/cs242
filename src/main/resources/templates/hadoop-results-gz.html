<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content-width="device-width" , initial-scale="1.0">
<title>Search Engine</title>
<!--  <link rel="stylesheet" href="/main.css"> -->
<!--   <link th:rel="stylesheet"
	th:href="@{/webjars/bootstrap/4.0.0-2/css/bootstrap.min.css} " /> -->
<link href="https://fonts.googleapis.com/icon?family=Material+Icons"
	rel="stylesheet">
	
	<link href="https://fonts.googleapis.com/css?family=Abel" rel="stylesheet">
    <link rel="stylesheet" href="/explorer/css/styles-merged.css">
    <link rel="stylesheet" href="/explorer/css/style.min.css">
    <link rel="stylesheet" href="/explorer/css/custom.css">
<style>
.truncate-url {
	max-width: 600px; /* Customise it accordingly */
	white-space: normal;
	overflow: hidden;
	text-overflow: ellipsis;
}
.search-results {
    padding-top: 30px !important;
}
.match {
    color: red;
}
</style>
</head>
<body class="h-100">
  <header role="banner" class="probootstrap-header search-results">
    <div class="container">
        <a href="/" class="probootstrap-logo">CS242 Final Project<span>.</span></a>
        
        <a href="#" class="probootstrap-burger-menu visible-xs" ><i>Menu</i></a>
        <div class="mobile-menu-overlay"></div>

        <nav role="navigation" class="probootstrap-nav hidden-xs">
          <ul class="probootstrap-main-nav">
          	<li class="active"><a href="/">Home</a></li>
            <li class="active"><a href="/about">About</a></li>
          </ul>
        </nav>
    </div>
  </header>
	<div class="container-fluid h-50">
		<div class="row h-100">
			<div class="text-center">
				<h2>Hadoop Search Results</h2>
			</div>
			<div class="text-center">
				<h4>
					Keyword(s): <span th:text="${query.content}"></span>
				</h4>
			</div>

			<table class="table">
				<thead>
					<tr>
						<th scope="col">#</th>
						<th scope="col">Doc Id</th>
						<th scope="col">Doc Url</th>
						<th scope="col">Doc Snippet</th>
						<th scope="col">Score</th>
					</tr>
				</thead>
				<tbody>
					<tr th:each="document, iter : ${documents}">
						<th scope="row" th:text="${iter.index + 1}"></th>
						<td class="col-1"><a
							th:href="@{/lucene/document/{id}(id=${document.id})}"><span
								th:text="${document.shortId}"></span></a></td>
						<td class="truncate-url"><a th:href="${document.url}"
							target="_blank" rel="noopener"><span
								th:text="${document.url}"></span></a></td>
						<td class="col-9" th:text="${document.decodedSnippet}"></td>
						<td th:if="${document.match}" class="col-1 match" th:text="${document.score}"></td>
						<td th:unless="${document.match}" class="col-1 " th:text="${document.score}"></td>
					</tr>
				</tbody>
			</table>
		</div>
	</div>
	  <footer class="probootstrap-footer" role="contentinfo">
    <div class="container">
      <div class="row">
        <div class="col-md-12">
          <p class="probootstrap-copyright">&copy; 2017 <a href="https://uicookies.com/">uiCookies:Explorer</a> All Rights Reserved.</p>
          <ul class="probootstrap-social">
            <li><a href="#"><i class="icon-twitter"></i></a></li>
            <li><a href="#"><i class="icon-facebook2"></i></a></li>
            <li><a href="#"><i class="icon-instagram2"></i></a></li>
            <li><a href="#"><i class="icon-google-plus"></i></a></li>
          </ul>
        </div>
      </div>
    </div>
  </footer>
</body>
</html>